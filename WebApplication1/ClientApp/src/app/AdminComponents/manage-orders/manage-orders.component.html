<p *ngIf="!orderlist"><em>Loading...</em></p>
<table style="background-color:white;" class='table' *ngIf="orderlist">
  <thead>
    <tr>
      <th>Order ID</th>
      <th>User</th>
      <th>Order Date</th>
      <th>Order Price</th>
      <th>Order Status</th>
      <th>Change Status</th>
      <th>Order Items</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let order of orderlist">
      <td>{{ order.orderId }}</td>
      <td><button mat-raised-button (click)="viewuser(order.uid)">View</button></td>
      <td>{{ order.orderDate }}</td>
      <td>{{ order.orderPrice }}</td>
      <td>{{ order.orderStatus }}</td>
      <td>
        <mat-select (valueChange)="updatestatus(order.orderId,$event)">
          <mat-option value="Canceled">Canceled</mat-option>
          <mat-option value="Pending">Pending</mat-option>
          <mat-option value="Processing">Processing</mat-option>
          <mat-option value="Shipped">Shipped</mat-option>
        </mat-select>
        </td>
         <mat-accordion>
          <mat-expansion-panel>
           <mat-expansion-panel-header>
            <mat-panel-title>
              Order Items
            </mat-panel-title>
          </mat-expansion-panel-header>

          <tr>
      <th>Product Name</th>
      <th>Product Quantity</th>
      <th>Product Price</th>
    </tr>
    <tr *ngFor="let item of order['orderItems']">
      <td>{{ item.productName }}</td>
      <td>{{ item.quantityValue }}</td>
      <td>{{ item.productPrice }}</td>
    </tr>
    </mat-expansion-panel>
    </mat-accordion>
    </tr>
  </tbody>
</table>
